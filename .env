# .env â€” Development only
#
# ALLOWED_DOMAINS: use colon (:) to separate multiple domains (no spaces)
# JWT_SECRET: used in tests only; replace it in container configuration for production
# EMAIL_PROVIDER: "log" (default), "external"
# MAIL_API_URL: URL of the email sending service
# MAIL_API_KEY: API key for the email sending service
# SENDER_EMAIL: email address shown as the sender
# DATABASE_URL: Postgres DSN from host machine; access it between containers with "@db"
# SQLX_OFFLINE: set to true to compile without a database connection
# RUST_LOG: see https://docs.rs/env_logger/latest/env_logger/#enabling-logging
# NO_COLOR: set to any value to disable colored logs
# LOG_FORMAT: "plain" (default) or "json"
# ADDRESS: address and port to bind to
# UPLOAD_DIR: directory to store uploaded files

ALLOWED_DOMAINS="mails.tsinghua.edu.cn:stu.pku.edu.cn"
ALLOWED_GRADES="undergraduate:graduate"
JWT_SECRET="a-very-long-secret-for-jwt-only-for-test"
EMAIL_PROVIDER="log"
MAIL_API_URL="http://127.0.0.1:8092"
MAIL_API_KEY="test-api-key"
SENDER_EMAIL="hilo dev"
DATABASE_URL="postgres://hilo_user:hilo_pass@localhost:5432/hilo_db"
SQLX_OFFLINE=true
RUST_LOG="info,hilo=debug"
NO_COLOR=
LOG_FORMAT="plain"
ADDRESS="127.0.0.1:8090"
UPLOAD_DIR="./uploads"

# Matching system configuration
# TAGS_LIMIT_SUM: maximum number of tags a user can select (familiar + aspirational combined)
# TRAITS_LIMIT_EACH: maximum number of traits a user can select in each category (self / ideal)
# MATCH_PREVIEW_INTERVAL_MINUTES: background task interval to update match previews
# TAG_SCORE_DECAY_FACTOR: decay factor for tag scores (between 0 and 1)
# COMPLEMENTARY_TAG_WEIGHT: weight for complementary tags in matching algorithm (between 0 and 1)
# TRAIT_MATCH_POINTS: points awarded for each matching trait in the matching algorithm
# MAX_PREVIEW_CANDIDATES: maximum number of match preview candidates to show per user

TAGS_LIMIT_SUM=10
TRAITS_LIMIT_EACH=3
MATCH_PREVIEW_INTERVAL_MINUTES=20
TAG_SCORE_DECAY_FACTOR=0.5
COMPLEMENTARY_TAG_WEIGHT=0.8
TRAIT_MATCH_POINTS=2.0
MAX_PREVIEW_CANDIDATES=6

# Admin
ADMIN_ADDRESS="127.0.0.1:8091"
